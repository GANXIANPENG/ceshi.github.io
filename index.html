<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5V9S2Q8DBF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-5V9S2Q8DBF');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>祝李老师毕业快乐！</title>
  <style>
    /* 原有样式保持不变 */
    :root {
      --primary-color: #00bfff;
      --secondary-color: #87cefa;
      --white-bg: rgba(255, 255, 255, 0.2);
      --transition-duration: 0.4s;
    }

    /* 新增聊天样式 */
    #chatContainer {
      width: 90%;
      max-width: 600px;
      margin: 20px auto;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 15px;
    }
    #chatMessages {
      height: 300px;
      overflow-y: auto;
      padding: 10px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .message {
      margin: 10px 0;
      max-width: 80%;
      padding: 8px 12px;
      border-radius: 15px;
      position: relative;
    }
    .user-message {
      background: #4CAF50;
      margin-left: auto;
      text-align: right;
    }
    .bot-message {
      background: #2196F3;
      margin-right: auto;
    }
    .sender-name {
      font-size: 12px;
      color: rgba(255,255,255,0.7);
      margin-bottom: 3px;
    }
    #chatInputContainer {
      display: flex;
      gap: 10px;
    }
    #chatInput {
      flex: 1;
      padding: 8px;
      border-radius: 20px;
      border: none;
      background: rgba(255,255,255,0.9);
    }
    #sendButton {
      padding: 8px 20px;
      border-radius: 20px;
      border: none;
      background: var(--primary-color);
      color: white;
      cursor: pointer;
    }
  </style>
  <!-- 原有其他样式保持不变 -->
</head>
<body>
  <!-- 启动页面 -->
  <div id="splashScreen">加载中...</div>

  <div class="container" id="container">
    <!-- 原有各section保持不变 -->

    <!-- 彩蛋页面（section16） -->
    <div class="section" id="section16" style="animation-delay: 4.5s;">
      <h1>彩蛋</h1>
      <p>AI小甘对话自训练数据.docx</p>
      <p>此处将接入小甘自制的AI模型对话0.2.6</p>
      
      <!-- 新增聊天框 -->
      <div id="chatContainer">
        <div id="chatMessages"></div>
        <div id="chatInputContainer">
          <input type="text" id="chatInput" placeholder="输入消息...">
          <button id="sendButton" onclick="sendMessage()">发送</button>
        </div>
      </div>

      <button onclick="prevSlide()">上一页</button>
      <button onclick="goToHome()">回到首页</button>
    </div>

    <div class="footer">
      ©2025 运行代码由 GAN 设计与开发
    </div>
  </div>

  <script>
    // 原有脚本保持不变

    // 新增聊天功能
    let userName = '';
    const responses = ["再议。", "我不明白，请联系网站管理员。", "我不明白，请你自己解决。"];

    function getRandomResponse() {
      return responses[Math.floor(Math.random() * responses.length)];
    }

    function createMessageElement(text, isUser) {
      const messageDiv = document.createElement('div');
      const nameSpan = document.createElement('span');
      const contentDiv = document.createElement('div');

      nameSpan.className = 'sender-name';
      nameSpan.textContent = isUser ? (userName || '匿名用户') : '小甘';
      
      contentDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
      contentDiv.textContent = text;

      messageDiv.appendChild(nameSpan);
      messageDiv.appendChild(contentDiv);
      return messageDiv;
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (!message) return;

      // 获取用户名
      if (!userName) {
        userName = document.getElementById('nameInput').value;
      }

      // 添加用户消息
      const chatMessages = document.getElementById('chatMessages');
      chatMessages.appendChild(createMessageElement(message, true));
      
      // 添加AI回复
      setTimeout(() => {
        chatMessages.appendChild(createMessageElement(getRandomResponse(), false));
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 500);

      input.value = '';
    }

    // 回车发送功能
    document.getElementById('chatInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') sendMessage();
    });
  </script>
</body>
</html>
